@extends('layout.template')

@section('pageTitle')
    <title>Piccolo Pay - Forgot Password</title>        
@endsection

@section('pageMeta')
    <meta name ="description", content="Unlock a world of seamless transactions and top-notch services with Piccolo Pay. We pride ourselves on being your go-to destination for airtime, data, TV subscriptions and electricity bill purchases.">
    <meta name ="keywords", content="Data, Airtime">
    <meta name="author" content="Team Piccolo">
@endsection

@section('pageContents')
    <!-- Page Contents  -->
        <div id="pageContents" class="py-12 my-2">
            <div class="lg:mx-24 lg:grid grid-cols-2 items-center gap-4">
                <div class="mx-auto">
                    <div class="px-4">
                        <svg id="signUpIcon" viewBox="0 0 311 207" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_36_1931)">
                            <path d="M111.556 119.131C122.214 100.353 142.544 85.935 164.066 87.324C148.191 104.614 138.934 126.97 137.933 150.438C137.579 159.489 138.127 169.594 132.126 176.372C128.393 180.589 122.685 182.632 117.074 183.06C111.462 183.489 105.852 182.473 100.315 181.462L98.972 181.875C98.4607 160.282 100.898 137.908 111.556 119.131Z" fill="#F0F0F0"/>
                            <path d="M164.098 87.7762C148.183 95.4494 134.613 108.265 126.282 123.894C124.481 127.272 122.948 130.857 122.279 134.647C121.61 138.439 122.077 142.049 123.37 145.65C124.552 148.942 126.142 152.173 126.505 155.696C126.887 159.409 125.523 162.881 123.067 165.637C120.063 169.009 116.028 171.098 112.011 173.004C107.551 175.12 102.886 177.247 99.7267 181.196C99.344 181.674 98.625 181.052 99.0072 180.574C104.503 173.703 113.91 172.411 120.434 166.876C123.478 164.294 125.763 160.777 125.619 156.656C125.493 153.052 123.856 149.719 122.63 146.396C121.343 142.906 120.701 139.398 121.163 135.677C121.635 131.872 123.032 128.219 124.739 124.809C128.588 117.118 133.856 110.057 139.891 103.954C146.826 96.9375 154.909 91.1615 163.79 86.8753C164.34 86.6103 164.644 87.5128 164.098 87.7762Z" fill="white"/>
                            <path d="M128.722 118.67C126.283 116.883 124.556 114.286 123.852 111.342C123.148 108.399 123.511 105.3 124.877 102.6C125.156 102.054 126.015 102.462 125.736 103.008C124.459 105.52 124.121 108.406 124.783 111.146C125.444 113.886 127.062 116.299 129.343 117.949C129.839 118.309 129.215 119.027 128.722 118.67Z" fill="white"/>
                            <path d="M122.551 144.06C128.665 143.165 134.217 139.995 138.101 135.183C138.485 134.706 139.204 135.328 138.82 135.805C134.77 140.805 128.985 144.092 122.621 145.009C122.014 145.096 121.948 144.146 122.551 144.06V144.06Z" fill="white"/>
                            <path d="M147.296 98.1088C148.096 98.9972 149.104 99.6726 150.229 100.074C151.355 100.476 152.562 100.592 153.743 100.411C154.348 100.316 154.413 101.266 153.812 101.36C152.507 101.554 151.174 101.425 149.929 100.984C148.685 100.542 147.568 99.8029 146.675 98.8295C146.583 98.7448 146.527 98.6282 146.518 98.5035C146.509 98.3788 146.547 98.2553 146.626 98.1581C146.708 98.0631 146.825 98.0047 146.951 97.9954C147.076 97.9862 147.2 98.027 147.296 98.1088Z" fill="white"/>
                            <path d="M206.887 146.56C206.511 146.629 206.134 146.699 205.755 146.777C200.701 147.742 195.734 149.117 190.903 150.888C190.528 151.019 190.149 151.158 189.778 151.299C178.184 155.69 167.505 162.199 158.283 170.495C154.617 173.799 151.207 177.378 148.083 181.201C143.768 186.48 139.51 192.548 133.872 195.99C133.288 196.356 132.682 196.685 132.057 196.976L99.5792 183.483C99.5207 183.416 99.4588 183.355 99.4 183.287L98.0787 182.808C98.2261 182.6 98.3834 182.387 98.5308 182.178C98.6158 182.057 98.708 181.939 98.793 181.817C98.852 181.737 98.9113 181.658 98.9599 181.582C98.9795 181.556 98.9993 181.529 99.0158 181.51C99.0645 181.434 99.1176 181.369 99.1632 181.301C100.039 180.108 100.925 178.919 101.821 177.735C101.824 177.727 101.824 177.727 101.835 177.723C108.684 168.713 116.345 160.196 125.053 153.115C125.315 152.902 125.58 152.681 125.857 152.475C129.8 149.305 133.995 146.462 138.4 143.977C140.816 142.624 143.3 141.394 145.84 140.292C152.411 137.458 159.385 135.676 166.508 135.013C180.707 133.692 195.171 136.935 206.061 145.869C206.34 146.098 206.611 146.323 206.887 146.56Z" fill="#F0F0F0"/>
                            <path d="M206.643 146.943C189.323 143.473 170.784 145.522 154.738 152.978C151.268 154.59 147.889 156.527 145.077 159.15C142.263 161.774 140.466 164.938 139.334 168.593C138.298 171.935 137.626 175.473 135.798 178.505C133.87 181.7 130.694 183.65 127.077 184.369C122.651 185.249 118.173 184.485 113.821 183.584C108.988 182.584 103.984 181.469 99.0876 182.718C98.4944 182.869 98.2947 181.938 98.887 181.787C107.406 179.615 115.693 184.256 124.229 183.771C128.212 183.544 132.151 182.114 134.513 178.737C136.579 175.783 137.276 172.135 138.295 168.743C139.365 165.18 140.961 161.992 143.566 159.3C146.231 156.546 149.542 154.472 152.955 152.778C160.652 148.959 169.102 146.497 177.59 145.263C187.345 143.843 197.271 144.105 206.938 146.038C207.537 146.158 207.237 147.062 206.643 146.943V146.943Z" fill="white"/>
                            <path d="M159.826 150.279C158.952 147.381 159.135 144.266 160.342 141.491C161.549 138.716 163.702 136.461 166.416 135.129C166.966 134.861 167.407 135.705 166.857 135.973C164.327 137.209 162.322 139.309 161.203 141.896C160.084 144.482 159.925 147.384 160.755 150.078C160.935 150.663 160.004 150.861 159.826 150.279Z" fill="white"/>
                            <path d="M139.636 166.83C145.055 169.802 151.394 170.619 157.388 169.119C157.981 168.969 158.181 169.9 157.588 170.049C151.348 171.599 144.753 170.735 139.121 167.63C138.584 167.334 139.102 166.535 139.636 166.83Z" fill="white"/>
                            <path d="M187.016 145.062C187.121 146.253 187.52 147.4 188.177 148.4C188.834 149.399 189.728 150.219 190.78 150.787C191.32 151.076 190.801 151.874 190.264 151.587C189.106 150.954 188.119 150.047 187.391 148.945C186.662 147.842 186.215 146.578 186.087 145.262C186.065 145.139 186.09 145.013 186.157 144.907C186.225 144.802 186.33 144.727 186.451 144.697C186.574 144.671 186.703 144.695 186.809 144.763C186.914 144.831 186.989 144.939 187.016 145.062Z" fill="white"/>
                            <path d="M145.019 168.82C140.47 146.793 134.785 139.45 134.785 139.45L132.613 137.763L130.001 135.731L130.013 135.47L129.394 135.259L129.248 135.145L129.01 134.962L128.971 135.003L128.89 135.087L117.071 131.063L102.075 125.962L95.1314 116.922C94.0005 115.45 92.5446 114.26 90.8777 113.446C89.2107 112.632 87.3782 112.215 85.5236 112.229L63.3473 112.393C60.3488 112.415 57.4671 113.56 55.2687 115.603L40.6925 129.144L17.9801 140.008L17.9418 139.97L17.7033 140.14L14.194 141.821L14.3388 142.576L12.1668 144.145C12.1668 144.145 6.48124 150.979 1.93279 171.474C0.775711 176.689 0.206156 187.876 0.000577719 201.661C-0.00974848 202.358 0.118447 203.05 0.377705 203.698C0.636964 204.345 1.02212 204.934 1.51077 205.431C1.99942 205.928 2.58182 206.323 3.2241 206.592C3.86639 206.861 4.55574 207 5.25209 207H126.564V207H141.705C142.401 207 143.09 206.861 143.731 206.592C144.373 206.323 144.955 205.929 145.444 205.433C145.933 204.936 146.318 204.348 146.577 203.701C146.837 203.055 146.966 202.363 146.956 201.666C146.756 186.666 146.186 174.475 145.019 168.82Z" fill="#05976A"/>
                            <path d="M160.583 19.209C155.864 19.209 151.337 21.0868 148 24.4293C144.663 27.7718 142.788 32.3052 142.788 37.0322C142.788 41.7592 144.663 46.2926 148 49.6351C151.337 52.9776 155.864 54.8554 160.583 54.8554H293.204C297.924 54.8554 302.45 52.9776 305.788 49.6351C309.125 46.2926 311 41.7592 311 37.0322C311 32.3052 309.125 27.7718 305.788 24.4293C302.45 21.0868 297.924 19.209 293.204 19.209H160.583Z" fill="#E5E5E5"/>
                            <path d="M160.583 22.8154C156.819 22.8154 153.209 24.3132 150.547 26.9792C147.885 29.6453 146.389 33.2612 146.389 37.0316C146.389 40.8019 147.885 44.4178 150.547 47.0839C153.209 49.7499 156.819 51.2477 160.583 51.2477H293.204C296.969 51.2477 300.579 49.7499 303.241 47.0839C305.903 44.4178 307.398 40.8019 307.398 37.0316C307.398 33.2612 305.903 29.6453 303.241 26.9792C300.579 24.3132 296.969 22.8154 293.204 22.8154H160.583Z" fill="white"/>
                            <path d="M77.9181 103.884C93.9636 103.884 106.971 90.8567 106.971 74.7864C106.971 58.7161 93.9636 45.6885 77.9181 45.6885C61.8725 45.6885 48.865 58.7161 48.865 74.7864C48.865 90.8567 61.8725 103.884 77.9181 103.884Z" fill="#9E616A"/>
                            <path d="M70.4857 102.46C70.3616 102.186 70.2378 101.911 70.1144 101.636C70.162 101.637 70.209 101.644 70.2566 101.645L70.4857 102.46Z" fill="#2F2E41"/>
                            <path d="M48.057 47.0113C49.5264 45.8373 51.2438 44.757 53.1226 44.8178C55.0012 44.8784 56.9064 46.5778 56.5171 48.4196C59.9679 42.3003 65.4605 37.5938 72.0309 35.1263C78.6012 32.6588 85.8294 32.5879 92.4467 34.9262C97.116 36.5761 101.695 39.877 102.768 44.7183C103.043 45.961 103.102 47.3237 103.877 48.3329C104.854 49.6053 106.723 49.8931 108.262 49.4455C108.277 49.441 108.293 49.4365 108.308 49.4319C108.568 49.343 108.848 49.3342 109.113 49.4068C109.378 49.4794 109.616 49.6299 109.794 49.8389C109.973 50.048 110.085 50.3059 110.116 50.5793C110.146 50.8527 110.094 51.1291 109.967 51.3727L108.645 53.8405C110.311 54.2123 112.041 54.1754 113.689 53.733C113.963 53.6611 114.252 53.6758 114.518 53.7751C114.783 53.8743 115.011 54.0533 115.17 54.2875C115.33 54.5216 115.413 54.7995 115.409 55.083C115.404 55.3664 115.313 55.6416 115.146 55.8707C110.789 61.861 103.511 65.7293 96.084 65.6839C90.8052 65.6516 85.472 63.8295 80.3345 65.0453C78.3471 65.5156 76.4899 66.4257 74.8994 67.7086C73.3089 68.9916 72.0253 70.6149 71.1429 72.4594C70.2605 74.304 69.8016 76.3231 69.7999 78.3684C69.7982 80.4138 70.2537 82.4336 71.1331 84.2796C69.5548 82.5507 66.5039 82.96 64.8895 84.6552C63.2751 86.3504 62.8572 88.8806 63.0198 91.2175C63.2686 94.7919 64.6668 98.1599 66.1409 101.438C53.7821 101.048 42.0926 92.3653 38.1579 80.6214C34.2068 68.8284 38.3477 54.7686 48.057 47.0113Z" fill="#2F2E41"/>
                            <path opacity="0.2" d="M28.5958 162.169L36.7445 206.573L41.6339 206.999L28.5958 162.169Z" fill="#1A1A1A"/>
                            <path opacity="0.2" d="M118.356 158.82L110.207 206.541L105.318 207L118.356 158.82Z" fill="#1A1A1A"/>
                            <path d="M55.0073 32.0676C53.4448 32.721 51.8145 32.0049 51.1308 30.365C50.4367 28.7 51.085 27.0099 52.6724 26.346C54.26 25.682 55.8613 26.3999 56.5667 28.0917C57.2615 29.7582 56.6202 31.3931 55.0073 32.0676ZM52.0143 23.0687L50.7721 23.5883C50.4617 23.7165 50.1146 23.7234 49.7994 23.6076C49.4842 23.4919 49.2239 23.2618 49.07 22.963L49.0085 22.8426C47.6718 20.4282 47.5188 17.4939 48.556 14.1257C49.5169 11.1042 49.916 8.97923 49.1134 7.05411C48.1854 4.82832 46.2038 4.13108 43.6769 5.1411C42.6968 5.55098 42.3849 5.54445 41.6136 6.31074C41.4459 6.47946 41.2459 6.61261 41.0256 6.70225C40.8054 6.79189 40.5693 6.83619 40.3316 6.83251C40.1018 6.8298 39.8749 6.78077 39.6644 6.68834C39.4539 6.59591 39.2642 6.46197 39.1065 6.29452C38.8027 5.97181 38.6325 5.54566 38.6303 5.10215C38.6281 4.65863 38.794 4.23079 39.0945 3.90502C40.3909 2.54587 41.9545 1.4706 43.6866 0.747078C49.116 -1.52354 51.8492 1.8287 53.0999 4.82864C54.3233 7.76293 53.6351 10.4854 52.5294 14.0114C51.6028 16.9412 51.6568 19.1122 52.7093 21.2708C52.7853 21.434 52.8276 21.6109 52.8336 21.7909C52.8397 21.9708 52.8093 22.1502 52.7444 22.3181C52.6795 22.486 52.5814 22.6391 52.4559 22.7681C52.3305 22.897 52.1803 22.9993 52.0144 23.0687L52.0143 23.0687Z" fill="#05976A"/>
                            <path d="M189.878 45.5329H163.491C163.407 45.5334 163.324 45.5174 163.247 45.4857C163.169 45.4539 163.098 45.4071 163.039 45.348C162.979 45.2888 162.932 45.2184 162.9 45.1409C162.868 45.0634 162.851 44.9803 162.851 44.8963C162.851 44.8124 162.868 44.7292 162.9 44.6517C162.932 44.5742 162.979 44.5038 163.039 44.4447C163.098 44.3855 163.169 44.3387 163.247 44.307C163.324 44.2753 163.407 44.2592 163.491 44.2598H189.878C190.046 44.2609 190.206 44.3285 190.324 44.4477C190.443 44.567 190.509 44.7282 190.509 44.8963C190.509 45.0644 190.443 45.2256 190.324 45.3449C190.206 45.4642 190.046 45.5317 189.878 45.5329Z" fill="#05976A"/>
                            <path d="M223.351 45.7448H196.964C196.88 45.7454 196.797 45.7293 196.72 45.6976C196.642 45.6659 196.571 45.619 196.512 45.5599C196.452 45.5007 196.405 45.4304 196.373 45.3528C196.341 45.2753 196.324 45.1922 196.324 45.1082C196.324 45.0243 196.341 44.9411 196.373 44.8636C196.405 44.7861 196.452 44.7158 196.512 44.6566C196.571 44.5974 196.642 44.5506 196.72 44.5189C196.797 44.4872 196.88 44.4711 196.964 44.4717H223.351C223.435 44.4711 223.518 44.4872 223.595 44.5189C223.673 44.5506 223.743 44.5974 223.803 44.6566C223.862 44.7158 223.91 44.7861 223.942 44.8636C223.974 44.9411 223.991 45.0243 223.991 45.1082C223.991 45.1922 223.974 45.2753 223.942 45.3528C223.91 45.4304 223.862 45.5007 223.803 45.5599C223.743 45.619 223.673 45.6659 223.595 45.6976C223.518 45.7293 223.435 45.7454 223.351 45.7448Z" fill="#05976A"/>
                            <path d="M256.824 45.9567H230.437C230.269 45.9556 230.109 45.888 229.99 45.7687C229.872 45.6495 229.806 45.4882 229.806 45.3201C229.806 45.1521 229.872 44.9908 229.99 44.8716C230.109 44.7523 230.269 44.6848 230.437 44.6836H256.824C256.907 44.683 256.991 44.6991 257.068 44.7308C257.146 44.7625 257.216 44.8093 257.276 44.8685C257.335 44.9277 257.383 44.998 257.415 45.0756C257.447 45.1531 257.464 45.2362 257.464 45.3201C257.464 45.4041 257.447 45.4872 257.415 45.5648C257.383 45.6423 257.335 45.7126 257.276 45.7718C257.216 45.831 257.146 45.8778 257.068 45.9095C256.991 45.9412 256.907 45.9573 256.824 45.9567H256.824Z" fill="#05976A"/>
                            <path d="M290.297 46.1686H263.91C263.742 46.1675 263.582 46.0999 263.463 45.9806C263.345 45.8614 263.279 45.7001 263.279 45.532C263.279 45.364 263.345 45.2027 263.463 45.0835C263.582 44.9642 263.742 44.8967 263.91 44.8955H290.297C290.464 44.8967 290.625 44.9642 290.743 45.0835C290.862 45.2027 290.928 45.364 290.928 45.532C290.928 45.7001 290.862 45.8614 290.743 45.9806C290.625 46.0999 290.464 46.1675 290.297 46.1686Z" fill="#05976A"/>
                            <path d="M176.626 39.674C179.335 39.674 181.53 37.475 181.53 34.7623C181.53 32.0496 179.335 29.8506 176.626 29.8506C173.918 29.8506 171.722 32.0496 171.722 34.7623C171.722 37.475 173.918 39.674 176.626 39.674Z" fill="#05976A"/>
                            <path d="M210.301 39.674C213.01 39.674 215.206 37.475 215.206 34.7623C215.206 32.0496 213.01 29.8506 210.301 29.8506C207.593 29.8506 205.397 32.0496 205.397 34.7623C205.397 37.475 207.593 39.674 210.301 39.674Z" fill="#05976A"/>
                            <path d="M243.977 39.674C246.685 39.674 248.881 37.475 248.881 34.7623C248.881 32.0496 246.685 29.8506 243.977 29.8506C241.268 29.8506 239.073 32.0496 239.073 34.7623C239.073 37.475 241.268 39.674 243.977 39.674Z" fill="#05976A"/>
                            <path d="M277.652 39.674C280.36 39.674 282.556 37.475 282.556 34.7623C282.556 32.0496 280.36 29.8506 277.652 29.8506C274.943 29.8506 272.748 32.0496 272.748 34.7623C272.748 37.475 274.943 39.674 277.652 39.674Z" fill="#05976A"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_36_1931">
                            <rect width="311" height="207" fill="white"/>
                            </clipPath>
                            </defs>
                        </svg>
                    </div>
                    <div class="slogan my-4 text-black hidden lg:block">
                        Let's Get you back in your <br> account
                    </div>
                </div>
                <div class="lg:bg-white py-4 rounded-2xl lg:px-8 px-4">
                    <div class="slogan my-4 hidden lg:block">
                        PiccoloPay
                    </div>
                    <div class="slogan my-2 text-black text-lg">
                        Reset Password
                    </div>
                    <div>
                        <form action="{{ route('forgot-password-form') }}" id="forgotPasswordForm" method="POST">
                            @csrf
                            <!-- Loading -->
                            <div class="loader hidden">
                                @include('includes.loader')
                            </div>
                            
                            <!-- Feedback Container  -->
                            <div id="feedbackContainer" class="my-2">@include('includes.messages')</div>
                            
                            <!-- Forgot Password -->
                            <div class="my-4">
                                <input class="input_box" type="email" placeholder="Email" name="email" required>
                            </div>
                            <div class="my-4">
                                <input class="input_box" type="text" placeholder="Username" name="username" required>
                            </div>
                            <div class="my-4">
                                <input class="input_box" type="phone" placeholder="Phone" name="phone" required>
                            </div>
                            <div class="my-4 submit_box">
                                <input class="" type="submit" value="Reset Password" name="submit">
                            </div>
                        </form>
                    </div>
                    <div class="text-center text-sm">
                        Remember Password? <a href="{{ route('login') }}" class="green-text">Login</a>
                    </div>
                </div>
            </div>
        </div>
        <script>
            // Forgot Password
                $(document).on('submit', '#forgotPasswordForm', function() {
                    var e = this

                    // display Loader 
                    $('.loader').show()

                    $.ajax({
                        url: $(this).attr('action'),
                        data: $(this).serialize(),
                        type: "POST",
                        dataType: 'json',
                        success: function(data) {
                            
                            if(data.status) {
                                // Loader Hide 
                                $('.loader').hide()
                                
                                $('#feedbackContainer').fadeIn().delay(5000).fadeOut()
                                
                                $("#feedbackContainer").append('<div class="alert alert-success text-xs text-center">'+data.message+'</div>')
                                // Redirect 
                                // setTimeout(function(){
                                //     window.location = data.redirect
                                // }, 2000)
                            }else{
                                $(".alert").remove();
                                
                                // Loader Hide 
                                $('.loader').hide()

                                if(data.status === false) {
                                    // Check if the errors property is a string
                                    if(typeof data.errors === 'string') {
                                        $("#feedbackContainer").append('<div class="alert alert-danger text-xs">' +data.errors+'</div>');
                                    }else if(typeof data.errors === 'object') {
                                        // If errors is an object (possibly from server validation)
                                        $.each(data.errors, function (key, val) {
                                            $("#feedbackContainer").append('<div class="alert alert-danger text-xs">' +val+'</div>');
                                        });
                                    }else{
                                        // Handle other cases or provide a default message
                                        $("#feedbackContainer").append('<div class="alert alert-danger text-xs">'+data.message+'</div>');
                                    }
                                }
                                
                                // Redirect 
                                setTimeout(function(){
                                    location.reload()
                                }, 7000)
                            }
                        
                        }
                    });

                    return false;
                });
            // End of SignUp
        </script>
    <!-- End of Page Contents  -->
@endsection